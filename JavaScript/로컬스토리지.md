## 참고 자료
https://www.youtube.com/watch?v=OpoVuwxGRDI

https://doqtqu.tistory.com/m/306

https://www.youtube.com/watch?v=3yMV00vQBq0

https://velog.io/@hellozin/%EC%BF%A0%ED%82%A4-%EC%84%B8%EC%85%98-%EA%B7%B8%EB%A6%AC%EA%B3%A0-%EC%9B%B9-%EC%8A%A4%ED%86%A0%EB%A6%AC%EC%A7%80

https://jh2021.tistory.com/13

## HTTP 프로토콜의 한계
HTTP 프로토콜 환경은 비연결지향(connectionless), 무상태(stateless)한 특성을 가지기 때문에 요청만으로 서버는 클라이언트를 구별할 수 없다.
* 비연결지향
    * 클라이언트가 요청을 서버에 보내면, 서버는 클라이언트에게 요청에 맞는 응답을 보내고 TCP/IP 연결을 끊는 특성
    * HTTP 1.1에서는 헤더에 keep-alive라는 값을 줘서 커넥션을 재활용한다.
* 무상태
    * 연결을 끊는 순간 클라이언트와 서버의 통신이 끝나며 상태 정보를 유지하지 않는 특성
* 그런데 클라이언트가 서버와 연결이 끊겨도 기억하고 싶은 데이터가 있다면? 만약 로그인하는 과정에서 매번 페이지를 들어갈 때마다 로그인을 해야한다면 너무 불편할것이다. 그래서 데이터를 기억할 수 있도록 쿠키, 세션, 웹스토리지 등이 나오게 된 것.

## 쿠키 VS 세션
쿠키는 로그인창의 아이디를 자동완성하거나 공지 메시지를 하루 안 보기 하거나 쇼핑몰 사이트에서 로그인 안 한 상태로 물건을 장바구니에 담는 등 사용자의 편의를 위하되, 지워지거나 조작되거나 가로채이더라도 큰 일은 없을 그런 수준의 정보들을 브라우저에 저장하는데 사용된다.

사용자나 다른 누군가에게 노출되어서는 안 되는 서비스 제공자가 직접 관리해야 할 정보들은 세션으로 서버 안에서 다뤄진다. 세션을 남발하면 접속자가 많을 때 서버에 부하가 걸린다.

웹 개발자들은 사이트를 만들 때 이 정보는 쿠키에 저장할 지 세션에 저장할 지 적절한 판단할 수 있어야 한다.

### 쿠키
쿠키는 서버와 클라이언트가 지속적으로 데이터 교환을 하기 위해 만들어졌다. 클라이언트와 서버의 연결이 끊겨도 필요한 정보를 기억하게 하기위해, 서버에서 데이터를 묶어서 클라이언트의 컴퓨터 혹은 브라우저의 메모리에 저장되는 key value로 이루어진 작은 텍스트 파일. 쿠키에 쓸데없는 값이 많다면 그만큼 네트워크 트래픽이 증가한다.

쿠키의 목적
1. 세션 관리: HTTP 요청을 보낼 때 서버에 특정 요청을 보내면 서버는 요청 자체만으로는 이 요청이 누가 보낸 것인지 알 수 없다. 이 때 쿠키에 정보를 담아서 서버에 보내면 서버는 쿠키를 읽어 요청자를 파악할 수 있다. (ex. 로그인 및 사용자 정보, 접속 시간)
2. 개인화: 사용자에 맞는 페이지 제공(사용자가 선호하는 옵션이나 테마 등 세팅)
3. 트래킹: 사용자 행동 및 패턴 분석

쿠키의 특징
* 하나의 쿠키값은 4KB의 용량 제한
* **클라이언트에** 300개까지 쿠키 저장 가능
* 하나의 도메인당 20개의 쿠키
* 만료기한 지정 가능
* Response Header에 Set-Cookie 속성을 사용하면 클라이언트에 쿠키를 만들 수 있다.
* 쿠키는 사용자가 따로 요청하지 않아도 브라우저가 Request 시에 Request Header를 넣어서 **자동으로 서버에 전송**한다.
* 쿠키는 데이터를 클라이언트에 저장하기 때문에 스니핑에 당할 우려가 있다.
* 쿠키는 브라우저를 종료해도 만료기간이 남아있으면 존재한다
* 속도가 세션보다 빠르다

### 세션
* 사용자 정보를 파일 브라우저에 저장하는 쿠키와 달리 세션은 **서버** 측에서 관리
* 서버에서 클라이언트를 구분하기 위해 세션 ID를 부여하며, 웹 브라우저가 서버에 접속해서 브라우저를 종료할 때까지 인증상태를 유지
* 접속 시간에 제한을 두어 일정 시간 응답이 없다면 정보가 유지되지 않게 설정 가능
* 데이터를 서버에 두기 때문에 쿠키보다 보안에 좋지만, 사용자가 많아질 수록 서버 메모리를 많이 차지
* 세션은 세션 아이디만 쿠키에 저장하고 그 외 민감 데이터는 서버에서 처리하기 때문에 보안성은 쿠키보다 세션이 좋다
* 세션은 브라우저 종료 시 만료기간에 상관없이 종료
* 속도가 쿠키보다 느리다

## 웹 스토리지
* **클라이언트에** 데이터를 저장할 수 있도록 **HTML5부터** 추가된 저장소(HTML5를 지원하지 않는 브라우저에서는 사용 불가능)
* Key-Value 스토리지 형태
* 쿠키와 달리 서버에 전송되지 않는다. 단지 스토리지에서 필요한 데이터만 꺼내서 명시적으로만 전송할 수 있다. 그래서 쿠키에 비해 많은 용량을 저장할 수 있는거!
* 쿠키와 달리 자동 전송의 위험성이 없음
* 오리진(도메인, 프로토콜, 포트) 단위로 접근이 제한되는 특성 덕분에 CSRF로부터 안전
* 쿠키보다 큰 저장 용량 지원(모바일 2.5MB, 데스크탑 5~10MB)
* 서버가 HTTP 헤더를 통해 스토리지 객체를 조작할 수 없다. 웹 스토리지 객체 조작은 JS 내에서만 수행
* 오직 문자형 데이터 타입만 지원
### 로컬 스토리지
* 사용자가 데이터를 지우지 않는 이상, 브라우저나 OS를 종료해도 계속 브라우저에 남아있음 (영구성)
* **도메인만 같으면** 전역적으로 데이터 공유(브라우저간 공유 가능)
* 지속적으로 필요한 데이터 저장(자동 로그인)
### 세션 스토리지
* 일시적으로 필요한 데이터 저장(일회성 로그인 정보, 입력폼 저장 등)
* 윈도우나 브라우저 탭을 닫을 경우 제거
* 브라우저간 데이터 공유 불가능

### 캐시
가져오는데 비용이 드는 데이터를 한 번 가져온 뒤에는 임시로 저장해두는 거

웹 캐시: 이미지 등의 정보를 불러올 때 데이터 사용량도 발생하고 시간도 들기 때문에 사용자가 여러 번 방문할 법한 사이트에서는 한 번 받아온 데이터를 사용자의 컴퓨터 또는 중간 역할을 하는 서버에 저장해두는 거

